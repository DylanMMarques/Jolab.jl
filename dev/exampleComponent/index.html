<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sequential modelling · Jolab.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Jolab.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Optical components</span><ul><li><a class="tocitem" href="../MultilayerStructure/">Multilayer Structure</a></li><li><a class="tocitem" href="../Lens/">Lens</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li class="is-active"><a class="tocitem" href>Sequential modelling</a><ul class="internal"><li><a class="tocitem" href="#Defining-the-optical-setup"><span>Defining the optical setup</span></a></li><li><a class="tocitem" href="#Propagating-the-field-by-the-optical-setup"><span>Propagating the field by the optical setup</span></a></li></ul></li><li><a class="tocitem" href="../exampleAngularSpectrum/">Angular Spectrum</a></li><li><a class="tocitem" href="../exampleAiry/">Fabry-Pérot etalon</a></li><li><a class="tocitem" href="../exampleMultimodeFibre/">Multimode Fibre</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Sequential modelling</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Sequential modelling</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/DylanMMarques/Jolab.jl/blob/master/docs/src/exampleComponent.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Sequential-modelling"><a class="docs-heading-anchor" href="#Sequential-modelling">Sequential modelling</a><a id="Sequential-modelling-1"></a><a class="docs-heading-anchor-permalink" href="#Sequential-modelling" title="Permalink"></a></h1><p>This is an example of using Jolab to simulate the light propagation on optical system. Jolab has models implemented to simulate various optical components but to simulate optical system the user must apply propagate the light by the multiple optical components, i.e. sequential modelling. We start by modelling a simple optical system: two lenses placed sequentially on the 4f configuration.</p><p>The first step is to load the Jolab into Julia</p><pre><code class="language-julia">using Jolab
using Plots; plotly()</code></pre><h2 id="Defining-the-optical-setup"><a class="docs-heading-anchor" href="#Defining-the-optical-setup">Defining the optical setup</a><a id="Defining-the-optical-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-the-optical-setup" title="Permalink"></a></h2><p>We will now create the first lens which focus the collimated beam. A lens is defined based on its focal length (f), its numerical aperture (na) and its referenceframe, i.e. the position in space where the lens is placed.</p><pre><code class="language-julia">f1 = 30E-3 # focal length in meters of the lens
na1 = 1 # Numerical aperture of the lens
ref1 = ReferenceFrame(0, 0, f1) # Position in meters of the lens in meters (x,y,z)
lens1 = Lens(f1, na1, ref1); # Creation of the lens</code></pre><p>The next step is to create the second lens which will re-collimate the beam. As before, we define its focal length, na and referenceframe. We place the lens such that the focal plane of both lenses is the same.</p><pre><code class="language-julia">f2 = 60E-3 # focal length in meters of the lens
na2 = 1 # Numerical aperture of the lens
ref2 = ReferenceFrame(0, 0, 2f1 + f2) # Position in meters of the lens
lens2 = Lens(f2, na2, ref2); # Creation of the lens</code></pre><p>We also need to specify the collimated beam incident upon the lens. In this example, we will consider a Gaussian beam in the back focal plane of the lens. A Gaussian beam is defined based on the beam waist (σ), wavelength (λ) and referenceframe:</p><pre><code class="language-julia">λ = 1550E-9 # wavelength in meters
σ = 1000E-6 # Gaussian beam waist in meters. Defined based on where the intensity decreases to 1/e²
x = σ .* range(-1.5, 1.5, length = 128); # Position x in meters where the field is evaluated
y = σ .* range(-1.5, 1.5, length = 128); # Position y in meters where the field is evaluated
n = Jolab.refractiveindex_air(printBool= false); # Refractive index of the medium
dir = 1; # Direction of propagation of the field (forward 1 or backward -1)
ref = ReferenceFrame(0 , 0, 0); # Position in mirrors of the field (x,y,z)
fieldBackFocalPlane = FieldSpace_gaussian(x, y, σ, λ, n(λ), dir, ref); # Creation of the field
plot(fieldBackFocalPlane) # Display the field intensity</code></pre><h2 id="Propagating-the-field-by-the-optical-setup"><a class="docs-heading-anchor" href="#Propagating-the-field-by-the-optical-setup">Propagating the field by the optical setup</a><a id="Propagating-the-field-by-the-optical-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Propagating-the-field-by-the-optical-setup" title="Permalink"></a></h2><p>At this point, all the optical components and initial fields of the simulations are created. The next step is to propagate the field by the optical components. This is done with the function <code>(backward_field, forward_field) = lightinteraction(Optical_component, incident_field)</code> where <code>backward_field</code> is the field propagating backward after the interaction with the optical component and <code>forward_field</code> is the field propagating forward. For the case the an optical component does not reflect light, for example as an ideal lens, one of the field will be nothing.</p><p>Following the script example, the simulation of the first lens is made as:</p><pre><code class="language-julia">(tmp, angspeFocalPlane) = lightinteraction(lens1, fieldBackFocalPlane); # Calculates the field in the focal plane of the lens</code></pre><p>We have calculated the field in the focal plane of both lenses. We can now propagate the field by the second lens. We need to repeat the same approach as before:</p><pre><code class="language-julia">(tmp, fieldBackFocalPlane_2) = lightinteraction(lens2, angspeFocalPlane);
plot(fieldBackFocalPlane_2)</code></pre><p>We have finally calculated how light propagates by two lenses. We can see that the beam is magnified as it propagates by the two lens due to the different focal length. This example shows the basic concept of the toolbox - the modularity. This toolbox is built to allow its users to calculate how light interacts with single optical components and, by putting code together, how light propagates on optical setups. This simple example only simulates lens but any lens could be replace by any other optical component such as, fibre, mirror, interferometers, etc...</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Lens/">« Lens</a><a class="docs-footer-nextpage" href="../exampleAngularSpectrum/">Angular Spectrum »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 25 May 2021 18:31">Tuesday 25 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
